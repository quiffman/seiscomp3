SET(PACKAGE_NAME NLL_LOCATOR)

SET(NLL_SOURCE_DIR ${SC3_PACKAGE_SOURCE_DIR}/libs/3rd-party/nll)
#AUX_SOURCE_DIRECTORY(${NLL_SOURCE_DIR} LIBNLL_SOURCES)
#AUX_SOURCE_DIRECTORY(${NLL_SOURCE_DIR}/alomax_matrix LIBNLL_ALOMAX_MATRIX_SOURCES)
FILE(GLOB LIBNLL_SOURCES ${NLL_SOURCE_DIR}/*.c)
FILE(GLOB LIBNLL_ALOMAX_MATRIX_SOURCES ${NLL_SOURCE_DIR}/alomax_matrix/*.c)

IF(NOT ${CMAKE_SYSTEM_NAME} MATCHES "Darwin")
	IF (CMAKE_COMPILER_IS_GNUCC)
		ADD_DEFINITIONS(-D_GNU_SOURCE)
	ENDIF (CMAKE_COMPILER_IS_GNUCC)
ENDIF(NOT ${CMAKE_SYSTEM_NAME} MATCHES "Darwin")

SET(
	 ${PACKAGE_NAME}_SOURCES
		${LIBNLL_SOURCES}
		${LIBNLL_ALOMAX_MATRIX_SOURCES}
		nll_locator.cpp
)

SET(
	${PACKAGE_NAME}_HEADERS
		nll_locator.h
)

INCLUDE_DIRECTORIES(${NLL_SOURCE_DIR})

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_INCLUDE_DIR})

SC_ADD_PLUGIN_LIBRARY(${PACKAGE_NAME} locnll "")
SC_LINK_LIBRARIES_INTERNAL(locnll seismology utils)
